<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login and Register</title>
    <link rel="stylesheet" href="login-menu.component.css">
</head>
<body>
    <div class="grid">
        <div class="col-12" style="text-align: right;">
            <a [routerLink]="['']">
              <p-button label="Home" ></p-button>
            </a>
        </div>
    </div>

    <div class="container">
        <p-toast />
        <div *ngIf="!isLoggedIn" class="login">
            <h2>Login</h2>
            <form [formGroup]="loginForm" (ngSubmit)="login()">
                <input type="text" [(ngModel)]="loginUserRequest.username" formControlName="username" placeholder="Username" [class.invalid]="usernameL.invalid" required>
                <div *ngIf="usernameL.invalid && loginSubmitted" class="error">
                    Enter a valid username.
                </div>
                <input type="password" [(ngModel)]="loginUserRequest.password" formControlName="password" placeholder="Password" [class.invalid]="passwordL.invalid" required>
                <div *ngIf="passwordL.invalid && loginSubmitted" class="error">
                    Enter a valid password.
                </div>
                <button type="submit">Login</button>
            </form>
        </div>
        <div *ngIf="!isLoggedIn" class="register">
            <h2>Register</h2>
            <form [formGroup]="registerForm" (ngSubmit)="register()">
                <input type="text" [(ngModel)]="registerUserRequest.username" formControlName="username" placeholder="Username" [class.invalid]="usernameR.invalid" required>
                <div *ngIf="usernameR.invalid && registerSubmitted" class="error">
                    Enter a valid username.
                </div>
                <input type="text" [(ngModel)]="registerUserRequest.name" formControlName="name" placeholder="Name" [class.invalid]="nameR.invalid" required>
                <div *ngIf="nameR.invalid && registerSubmitted" class="error">
                    Enter a valid name.
                </div>
                <input type="password" [(ngModel)]="registerUserRequest.password" formControlName="password" placeholder="Password" [class.invalid]="passwordR.invalid" required>
                <div *ngIf="passwordR.invalid && registerSubmitted" class="error">
                    Enter a valid password.
                </div>
                <button type="submit">Register</button>
            </form>
        </div>
    </div>
</body>
</html>
